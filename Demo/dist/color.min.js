const{InvalidColor:InvalidColor}=require("./error"),{isDigit:isDigit,genChunks:genChunks}=require("./utils");class Color{constructor(r,o,n,t=255){this.r=r,this.g=o,this.b=n,this.a=t}}const rgbFormat=r=>{const o=r.split(",");if(o.length<3||o.length>4)throw new InvalidColor("Mininum and maximum elements: 3, 4");for(var n=0;n<o.length;n++){var t=o[n].match(/\d+/);if(!t)throw new InvalidColor("Invalid RGB color format "+r+'\nValid format: "255, 0, 12" or "255, 0, 12, 255"');if((t=parseInt(t))<0||t>255)throw new InvalidColor(`RGB color ${t} is not between 0 and 255`);o[n]=t}return o},hslFormat=r=>{const o=r.split(","),n=[360,100,100,255];var t;if(o.length<3||o.length>4)throw new InvalidColor("Mininum and maximum elements: 3, 4");for(var a=0;a<o.length;a++){var e=o[a].match(/\d+/);if(!e)throw new InvalidColor("Invalid HSL color format "+r+'\nValid format: "360, 100, 100" or "123, 12, 12, 255"');if(e=parseInt(e),t=n[a],e<0||e>t)throw new InvalidColor(`RGB color ${e} is not between 0 and ${t}`);o[a]=e}return o},codeFormat=r=>{if(0==isDigit(r))throw new InvalidColor("Invalid code format "+r+"\nValid format: A value encoded on 6 bytes");if((r=parseInt(r))<0||r>16777215)throw new InvalidColor("Invalid value "+r+"\nValid format: an integer (min: 0, max: 0xffffff)");const o=(r=r.toString(16)).length;return o<6&&(r="0".repeat(6-o)+r),(r=genChunks(r,2).map((r=>parseInt(r,16))))[0]=360*r[0]/255,r[1]=100*r[1]/255,r[2]=100*(r[2]/2+128)/255,r},COLOR_FORMAT={rgb:rgbFormat,hsl:hslFormat,code:codeFormat},blackAndWhite=(r,o)=>{const n=(r.r+r.g+r.b)/3;r.r=n,r.g=n,r.b=n},defaultOp=(r,o)=>{r.r=r.r*o.r/255,r.g=r.g*o.g/255,r.b=r.b*o.b/255,r.a=r.a*o.a/255},COLOR_MODE={default:defaultOp,grayscale:blackAndWhite};module.exports={COLOR_MODE:COLOR_MODE,COLOR_FORMAT:COLOR_FORMAT,Color:Color};
//# sourceMappingURL=color.min.js.map